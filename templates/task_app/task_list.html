{% extends "task_app/main.html" %}
{% block content %}

<h1>My Task Manager</h1>
{% if request.user.is_authenticated %}
    <p>Welcome, {{ request.user }}</p>
    <form method="POST" action="{% url 'logout' %}">
        {% csrf_token %}
        <button type="submit" style="background: #dc3545; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer;">
            Logout
        </button>
    </form>
{% else %}
    <a href="{% url 'login' %}" style="color: #007bff;">Login</a>
{% endif %}
<a href="{% url 'task-create' %}" style="display: block; margin: 20px 0; background: #28a745; color: white; padding: 10px 15px; text-align: center; border-radius: 4px;">
    Add Task
</a>
<table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #007bff; color: white;">
        <th style="padding: 10px; text-align: left;">Task</th>
        <th style="padding: 10px; text-align: left;">Actions</th>
    </tr>
    {% for task in tasks %}
    <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 10px;">{{ task.title }}</td>
        <td style="padding: 10px;">
            <a href="{% url 'task' task.id %}" style="color: #17a2b8; margin-right: 10px;">View</a>
            <a href="{% url 'task-update' task.id %}" style="color: #ffc107; margin-right: 10px;">Edit</a>
            <a href="{% url 'task-delete' task.id %}" style="color: #dc3545;">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="2" style="text-align: center; padding: 20px;">No tasks in the list</td>
    </tr>
    {% endfor %}
</table>

{% endblock content %}
